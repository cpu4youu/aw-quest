import{s as t,e as x,g as p,S as s,T as u,d as g,q as b,Q as d,R as l,j as r,A as h,I as y}from"./index-5c5264f1.js";import{d as c}from"./defaultAvatar-eba3522c.js";import{f as C}from"./index-17f1f74c.js";import"./index-220d4c40.js";import"./index-ea76b77d.js";const j=t("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%"}),v=t("h2",{d:"flex",align:"center",justify:"center",color:"$white500"}),w=t("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",mt:"15px",w:"100%",color:"$white500"}),m=t("div",{d:"flex",align:"flex-start",justify:"center",w:"100%",bg:"#0E1720",padding:"15px",br:"5px",color:"$white500"}),A=t("div",{d:"flex",align:"center",justify:"center",mr:"15px",position:"relative",span:{d:"flex",align:"center",justify:"center",position:"absolute",bottom:"-8px",zIndex:"2",ff:"$heading",fw:"700",fs:"12px",br:"50px",w:"35px",h:"20px",color:"$black500",border:"2px solid"},variants:{borderColor:{Abundant:{span:{borderColor:"#737373",backgroundColor:"#737373",color:"#fff"}},Common:{span:{borderColor:"#232323",backgroundColor:"#232323",color:"#fff"}},Rare:{span:{borderColor:"#3d74e9",backgroundColor:"#3d74e9"}},Epic:{span:{borderColor:"#8719f0",backgroundColor:"#8719f0"}},Legendary:{span:{borderColor:"#da992e",backgroundColor:"#da992e"}},Mythical:{span:{borderColor:"#d20066",backgroundColor:"#d20066"}}}}}),$=t("div",{d:"flex",align:"center",justify:"center",w:"50px",h:"50px",border:"5px solid $yellow400",br:"0 9999999px 9999999px 9999999px",overflow:"hidden",img:{w:"50px",h:"50px"},variants:{borderColor:{Abundant:{borderColor:"#737373"},Common:{borderColor:"#232323"},Rare:{borderColor:"#3d74e9"},Epic:{borderColor:"#8719f0"},Legendary:{borderColor:"#da992e"},Mythical:{borderColor:"#d20066"}}}}),T=t("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%",color:"$white500"}),E=t("span",{d:"flex",align:"center",justify:"center",fw:"700",ff:"$body",fs:"16px",color:"$white500"}),I=t("span",{d:"flex",align:"center",justify:"center",direction:"column",ml:"10px",fw:"$thin",fs:"12px",ff:"$body",color:"#A3A3A3"}),M=t("span",{d:"flex",align:"center",justify:"center",fw:"$thin",fs:"14px",ff:"$body",color:"$white500"}),R=x({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),k=t("p",{d:"flex",align:"center",justify:"center",height:"320px",w:"100%",fw:"$thin",fs:"26px",ff:"$body",color:"$white500"}),i=t("div",{m:"10px 0",w:"95%",height:"120px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1) ,rgba(255, 255, 255, 0.2))",br:"10px",backgroundSize:"400% 400%",animation:`${R} 1.2s ease-in-out infinite`}),D=async()=>await p({options:{code:s.MEMBERS_MC,index_position:1,limit:"5",reverse:!0,scope:s.MEMBERS_MC,table:u.ACTIVITY}}),S=()=>g({queryKey:[d.ACTIVITY],queryFn:()=>L(),staleTime:1e3*60*60*24});async function _(){return await b.invalidateQueries(d.ACTIVITY)}async function L(){try{const o=await D();return o?Y(o):[]}catch(o){return console.log(o),null}}function Y(o){return o.map(n=>({...n,avatar:n.avatar.split(";")[0],avatarCollection:n.avatar.split(";")[1]}))}const B=()=>{const{data:o,isLoading:n}=S(),a=l.useRef(null);function f(){a!=null&&a.current&&(a.current.src=c)}return l.useEffect(()=>{const e=setInterval(()=>{_()},6e4);return()=>clearInterval(e)},[]),r.jsxs(j,{children:[r.jsx(v,{children:"ACTIVITY"}),r.jsx(w,{children:n?r.jsxs(r.Fragment,{children:[r.jsx(i,{}),r.jsx(i,{}),r.jsx(i,{})]}):(o==null?void 0:o.length)===0?r.jsx(k,{children:"No Activities for now"}):o==null?void 0:o.map(e=>r.jsxs(m,{children:[r.jsxs(A,{borderColor:e.avatarrarity,children:[r.jsx($,{borderColor:e.avatarrarity,children:e.avatarCollection==="alienavatars"?r.jsx("img",{loading:"lazy",src:`${h}/ipfs/${e.avatar}`,style:{width:"240px",height:"400px",minWidth:"240px",minHeight:"400px",objectFit:"none",scale:"0.24",objectPosition:"45% 1.5%"}}):r.jsx("img",{loading:"lazy",ref:a,onError:f,src:e.avatar!=="-"?`${y}/ipfs/${e.avatar}`:c,alt:""})}),r.jsx("span",{children:e.level})]}),r.jsxs(T,{children:[r.jsxs(E,{children:[e==null?void 0:e.tag," ",r.jsx(I,{children:C(new Date(`${e.timestamp}.000Z`),"dd MMMM yyyy HH':'mm")})]}),r.jsx(M,{children:e==null?void 0:e.log})]})]},e.index))})]})};export{B as default};
